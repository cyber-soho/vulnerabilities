<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Lab 10: Basic Web Vulnerability Assessment</title>
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>
    <!-- Chart.js -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <!-- Font Awesome (for icons) -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Chosen Palette: Secure Slate & Light -->
    <!-- 
        Background: Slate-50 (Light Gray)
        Primary Text: Slate-800
        Accents: Emerald-600 (Success/Go), Sky-600 (Info), Rose-600 (Alert)
        Structure: Clean, card-based layout with a focus on readability and process flow.
    -->

    <style>
        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background-color: #f8fafc; /* Slate-50 */
            color: #1e293b; /* Slate-800 */
        }
        
        .chart-container {
            position: relative;
            width: 100%;
            max-width: 500px;
            height: 300px;
            margin: 0 auto;
        }

        .tab-active {
            border-bottom: 2px solid #0284c7; /* Sky-600 */
            color: #0284c7;
            font-weight: 600;
        }

        .tab-inactive {
            color: #64748b; /* Slate-500 */
        }
        
        .tab-inactive:hover {
            color: #334155; /* Slate-700 */
        }

        .card-hover:hover {
            transform: translateY(-2px);
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05);
        }

        /* Custom Scrollbar for checklist */
        .custom-scroll::-webkit-scrollbar {
            width: 6px;
        }
        .custom-scroll::-webkit-scrollbar-track {
            background: #f1f5f9;
        }
        .custom-scroll::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 3px;
        }
    </style>

    <!-- Application Structure Plan: 
         1. Header: Title and Time constraints.
         2. Dashboard Overview: Visual summary of Grading Criteria (Chart) and Lab Stats.
         3. Interactive Walkthrough: The core module. Uses a Tab system to break down the linear lab process (Prep -> Auto Scan -> Manual -> Report) into digestible chunks.
         4. Analysis & Remediation: Interactive flip-cards/accordion for technical concepts (SQLi/XSS).
         5. Tools & Checklist: A side-panel or bottom section for alternative tools and a persistent progress tracker.
         Why: The source text is a linear procedure. Converting it to Tabs reduces cognitive load. Visualizing the grading criteria helps students focus on what matters.
    -->

    <!-- Visualization & Content Choices:
         1. Assessment Criteria (Doughnut Chart): Goal -> Inform users of grading weights. Interaction -> Hover for details. Justification -> Visualizes priorities better than a list. Library -> Chart.js.
         2. Vulnerability Severity Template (Bar Chart): Goal -> Show users how to structure their final report findings. Interaction -> None (Static Example). Justification -> Provides a visual template for the "Classification Table" requirement. Library -> Chart.js.
         3. Progress Tracker (JS DOM): Goal -> Track lab steps. Interaction -> Click to check off. Justification -> Gamifies the long list of tasks.
    -->
    
    <!-- CONFIRMATION: NO SVG graphics used. NO Mermaid JS used. -->
</head>
<body class="flex flex-col min-h-screen">

    <!-- Navigation / Header -->
    <header class="bg-white border-b border-slate-200 sticky top-0 z-50 shadow-sm">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
            <div class="flex justify-between items-center h-16">
                <div class="flex items-center">
                    <i class="fa-solid fa-shield-halved text-emerald-600 text-2xl mr-3"></i>
                    <div>
                        <h1 class="text-xl font-bold text-slate-900">Lab 10: OWASP ZAP Guide</h1>
                        <p class="text-xs text-slate-500">Basic Web Vulnerability Assessment</p>
                    </div>
                </div>
                <nav class="hidden md:flex space-x-8">
                    <button onclick="scrollToSection('overview')" class="text-slate-600 hover:text-emerald-600 px-3 py-2 text-sm font-medium">Overview</button>
                    <button onclick="scrollToSection('walkthrough')" class="text-slate-600 hover:text-emerald-600 px-3 py-2 text-sm font-medium">Walkthrough</button>
                    <button onclick="scrollToSection('analysis')" class="text-slate-600 hover:text-emerald-600 px-3 py-2 text-sm font-medium">Analysis & Report</button>
                    <button onclick="scrollToSection('tools')" class="text-slate-600 hover:text-emerald-600 px-3 py-2 text-sm font-medium">Alt Tools</button>
                </nav>
                <div class="flex items-center">
                    <span class="bg-blue-100 text-blue-800 text-xs font-semibold mr-2 px-2.5 py-0.5 rounded">Est. 3 Hours</span>
                </div>
            </div>
        </div>
    </header>

    <!-- Main Content -->
    <main class="flex-grow">
        <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
            
            <!-- SECTION 1: OVERVIEW & DASHBOARD -->
            <section id="overview" class="mb-12">
                <div class="mb-6">
                    <h2 class="text-3xl font-bold text-slate-800 mb-2">Lab Dashboard</h2>
                    <p class="text-slate-600 max-w-3xl">
                        Welcome to the Quick Reference Guide for Lab 10. This interactive dashboard outlines your objectives, tools, and success criteria for performing a vulnerability assessment on the DVWA (Damn Vulnerable Web Application).
                        Use this page to track your progress and ensure your final report meets all requirements.
                    </p>
                </div>

                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
                    
                    <!-- Card 1: Criteria Chart -->
                    <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                        <h3 class="text-lg font-semibold text-slate-800 mb-4 flex items-center">
                            <i class="fa-solid fa-chart-pie text-sky-500 mr-2"></i> Assessment Criteria
                        </h3>
                        <div class="chart-container">
                            <canvas id="criteriaChart"></canvas>
                        </div>
                        <p class="text-xs text-center text-slate-500 mt-2">Weighting of Lab Components</p>
                    </div>

                    <!-- Card 2: Legal & Environment -->
                    <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6 flex flex-col justify-between">
                        <div>
                            <h3 class="text-lg font-semibold text-slate-800 mb-4 flex items-center">
                                <i class="fa-solid fa-gavel text-rose-500 mr-2"></i> Critical Legal Reminder
                            </h3>
                            <div class="bg-rose-50 border-l-4 border-rose-500 p-4 mb-4">
                                <p class="text-rose-700 text-sm">
                                    <strong>Work EXCLUSIVELY within the provided lab environment.</strong> Scanning any unauthorized system is illegal.
                                </p>
                            </div>
                            <ul class="space-y-3 text-sm text-slate-600">
                                <li class="flex items-start">
                                    <i class="fa-solid fa-server text-slate-400 mt-1 mr-2"></i>
                                    <span><strong>Target:</strong> DVWA (Damn Vulnerable Web App)</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fa-solid fa-laptop-code text-slate-400 mt-1 mr-2"></i>
                                    <span><strong>Attacker:</strong> Kali Linux VM</span>
                                </li>
                                <li class="flex items-start">
                                    <i class="fa-solid fa-wrench text-slate-400 mt-1 mr-2"></i>
                                    <span><strong>Core Tool:</strong> OWASP ZAP</span>
                                </li>
                            </ul>
                        </div>
                        <div class="mt-4 pt-4 border-t border-slate-100">
                             <div class="flex justify-between items-center">
                                <span class="text-sm font-medium text-slate-600">Deliverable:</span>
                                <span class="text-sm font-bold text-slate-800">3-page A4 Report</span>
                             </div>
                        </div>
                    </div>

                    <!-- Card 3: Interactive Progress Checklist -->
                    <div class="bg-white rounded-xl shadow-sm border border-slate-200 p-6">
                        <h3 class="text-lg font-semibold text-slate-800 mb-4 flex items-center">
                            <i class="fa-solid fa-list-check text-emerald-500 mr-2"></i> Session Checklist
                        </h3>
                        <div class="h-64 overflow-y-auto custom-scroll pr-2 space-y-2" id="checklist-container">
                            <!-- Checklist items injected via JS -->
                        </div>
                        <div class="mt-4 pt-4 border-t border-slate-100">
                            <div class="w-full bg-slate-200 rounded-full h-2.5">
                                <div id="progress-bar" class="bg-emerald-500 h-2.5 rounded-full" style="width: 0%"></div>
                            </div>
                            <p class="text-right text-xs text-slate-500 mt-1" id="progress-text">0% Complete</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION 2: WALKTHROUGH -->
            <section id="walkthrough" class="mb-12">
                <div class="mb-6">
                    <h2 class="text-3xl font-bold text-slate-800 mb-2">Lab Walkthrough</h2>
                    <p class="text-slate-600">
                        Follow these steps sequentially to complete the vulnerability assessment. Each tab represents a distinct phase of the lab, from setting up your proxy to exporting final results.
                    </p>
                </div>

                <div class="bg-white rounded-xl shadow-lg border border-slate-200 overflow-hidden">
                    <!-- Tab Navigation -->
                    <div class="flex border-b border-slate-200 overflow-x-auto">
                        <button onclick="switchTab('prep')" id="tab-btn-prep" class="tab-active px-6 py-4 text-sm font-medium whitespace-nowrap focus:outline-none transition-colors">
                            1. Preparation
                        </button>
                        <button onclick="switchTab('auto')" id="tab-btn-auto" class="tab-inactive px-6 py-4 text-sm font-medium whitespace-nowrap focus:outline-none transition-colors">
                            2. Automated Scan
                        </button>
                        <button onclick="switchTab('manual')" id="tab-btn-manual" class="tab-inactive px-6 py-4 text-sm font-medium whitespace-nowrap focus:outline-none transition-colors">
                            3. Manual Tests
                        </button>
                        <button onclick="switchTab('results')" id="tab-btn-results" class="tab-inactive px-6 py-4 text-sm font-medium whitespace-nowrap focus:outline-none transition-colors">
                            4. Results & Export
                        </button>
                    </div>

                    <!-- Tab Content -->
                    <div class="p-6 md:p-8 bg-slate-50 min-h-[400px]">
                        
                        <!-- TAB 1: PREPARATION -->
                        <div id="tab-content-prep" class="block animate-fade-in">
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div>
                                    <h3 class="text-xl font-bold text-slate-800 mb-4">Environment Setup (~45 min)</h3>
                                    <ul class="space-y-4">
                                        <li class="flex items-start">
                                            <div class="flex-shrink-0 w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-slate-600 font-bold text-sm mr-3">1</div>
                                            <div>
                                                <p class="text-slate-800 font-medium">Start VMs</p>
                                                <p class="text-sm text-slate-600">Boot up Kali Linux (Attacker) and the Target Machine.</p>
                                            </div>
                                        </li>
                                        <li class="flex items-start">
                                            <div class="flex-shrink-0 w-8 h-8 rounded-full bg-slate-200 flex items-center justify-center text-slate-600 font-bold text-sm mr-3">2</div>
                                            <div>
                                                <p class="text-slate-800 font-medium">Configure DVWA</p>
                                                <p class="text-sm text-slate-600">Log in (admin / password) and set <strong>Security Level â†’ LOW</strong>.</p>
                                            </div>
                                        </li>
                                    </ul>
                                    <div class="mt-6 p-4 bg-yellow-50 border border-yellow-200 rounded-lg">
                                        <p class="text-sm text-yellow-800 font-semibold"><i class="fa-solid fa-camera mr-2"></i>Screenshot Required: Figure 1</p>
                                        <p class="text-xs text-yellow-700">Capture the DVWA dashboard showing "Low" security.</p>
                                    </div>
                                </div>
                                <div>
                                    <h3 class="text-xl font-bold text-slate-800 mb-4">ZAP Proxy Configuration</h3>
                                    <div class="bg-white p-5 rounded-lg border border-slate-200 shadow-sm space-y-3">
                                        <p class="text-sm text-slate-700"><strong>1. Launch:</strong> Start <code>zaproxy</code>. Select "Do not persist session".</p>
                                        <p class="text-sm text-slate-700"><strong>2. Browser Proxy:</strong> Firefox Settings â†’ Network â†’ Manual Proxy.</p>
                                        <code class="block bg-slate-800 text-emerald-400 p-2 rounded text-xs font-mono">IP: 127.0.0.1 | Port: 8080</code>
                                        <p class="text-sm text-slate-700"><strong>3. HTTPS (Optional):</strong> Import ZAP SSL cert into Firefox Trusted Authorities if needed.</p>
                                        <div class="mt-2 p-2 bg-yellow-50 border border-yellow-200 rounded text-xs text-yellow-800 font-semibold">
                                            <i class="fa-solid fa-camera mr-1"></i> Figure 2: ZAP interface with proxy configured.
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- TAB 2: AUTOMATED SCANS -->
                        <div id="tab-content-auto" class="hidden animate-fade-in">
                            <h3 class="text-xl font-bold text-slate-800 mb-6">Automated Discovery & Scanning (~1h 30m total)</h3>
                            <div class="space-y-6">
                                
                                <!-- Step A -->
                                <div class="bg-white p-5 rounded-lg border-l-4 border-blue-500 shadow-sm">
                                    <h4 class="font-bold text-blue-700 mb-2">Step A: Passive Scanning</h4>
                                    <p class="text-sm text-slate-600 mb-3">ZAP "listens" while you manually browse. It does not attack yet.</p>
                                    <ol class="list-decimal list-inside text-sm text-slate-700 space-y-1">
                                        <li>Browse DVWA pages: Home, SQL Injection, XSS, File Upload.</li>
                                        <li>Observe <strong>Sites Tree</strong> populating.</li>
                                        <li>Check <strong>Alerts Tab</strong> (CSP, X-Frame-Options, Cookies).</li>
                                        <li><strong>Record:</strong> Risk Level, CWE ID, Affected URL.</li>
                                    </ol>
                                    <span class="inline-block mt-3 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-bold rounded">
                                        <i class="fa-solid fa-camera mr-1"></i> Figure 3: Alerts panel (â‰¥ 2 findings)
                                    </span>
                                </div>

                                <!-- Step B -->
                                <div class="bg-white p-5 rounded-lg border-l-4 border-indigo-500 shadow-sm">
                                    <h4 class="font-bold text-indigo-700 mb-2">Step B: Spider / Crawl</h4>
                                    <p class="text-sm text-slate-600 mb-3">Automated page discovery to find hidden links.</p>
                                    <p class="text-sm text-slate-700">Right-click DVWA in Sites tree â†’ <strong>Attack â†’ Spider</strong>. Wait ~1-2 min.</p>
                                    <span class="inline-block mt-3 px-2 py-1 bg-yellow-100 text-yellow-800 text-xs font-bold rounded">
                                        <i class="fa-solid fa-camera mr-1"></i> Figure 4: Spider results
                                    </span>
                                </div>

                                <!-- Step C -->
                                <div class="bg-white p-5 rounded-lg border-l-4 border-rose-500 shadow-sm">
                                    <h4 class="font-bold text-rose-700 mb-2">Step C: Active Scan</h4>
                                    <p class="text-sm text-slate-600 mb-3">ZAP sends payloads to exploit vulnerabilities.</p>
                                    <p class="text-sm text-slate-700">Right-click DVWA â†’ <strong>Attack â†’ Active Scan</strong>. Check "Recurse".</p>
                                    <p class="text-xs text-slate-500 mt-2 italic"><i class="fa-regular fa-clock mr-1"></i> Takes 10-20 mins. Proceed to Manual Tests while running.</p>
                                </div>

                            </div>
                        </div>

                        <!-- TAB 3: MANUAL TESTS -->
                        <div id="tab-content-manual" class="hidden animate-fade-in">
                            <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
                                
                                <!-- SQLi Module -->
                                <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                                    <div class="bg-slate-800 p-4">
                                        <h3 class="text-white font-bold flex items-center">
                                            <i class="fa-solid fa-database mr-2 text-emerald-400"></i> SQL Injection (SQLi)
                                        </h3>
                                    </div>
                                    <div class="p-6">
                                        <p class="text-sm text-slate-600 mb-4">Navigate to DVWA <strong>SQL Injection</strong> module.</p>
                                        
                                        <div class="mb-4">
                                            <label class="text-xs font-bold text-slate-500 uppercase">Payload 1 (Bypass Auth)</label>
                                            <div class="flex mt-1">
                                                <code class="flex-grow bg-slate-100 p-2 text-sm font-mono border border-slate-300 rounded-l">1' OR '1'='1</code>
                                                <button onclick="copyToClipboard('1\' OR \'1\'=\'1')" class="bg-slate-200 hover:bg-slate-300 px-3 rounded-r transition-colors text-slate-600"><i class="fa-regular fa-copy"></i></button>
                                            </div>
                                        </div>

                                        <div class="mb-4">
                                            <label class="text-xs font-bold text-slate-500 uppercase">Payload 2 (Data Extraction)</label>
                                            <div class="flex mt-1">
                                                <code class="flex-grow bg-slate-100 p-2 text-sm font-mono border border-slate-300 rounded-l">1' UNION SELECT user, password FROM users-- -</code>
                                                <button onclick="copyToClipboard('1\' UNION SELECT user, password FROM users-- -')" class="bg-slate-200 hover:bg-slate-300 px-3 rounded-r transition-colors text-slate-600"><i class="fa-regular fa-copy"></i></button>
                                            </div>
                                        </div>

                                        <div class="p-3 bg-green-50 text-green-800 text-sm rounded border border-green-200 mb-3">
                                            <strong>Confirm:</strong> If all user records appear.
                                        </div>
                                        <p class="text-xs text-yellow-700 font-bold"><i class="fa-solid fa-camera mr-1"></i> Figure 5: Browser Output + ZAP History</p>
                                    </div>
                                </div>

                                <!-- XSS Module -->
                                <div class="bg-white rounded-xl shadow-sm border border-slate-200 overflow-hidden">
                                    <div class="bg-slate-800 p-4">
                                        <h3 class="text-white font-bold flex items-center">
                                            <i class="fa-solid fa-code mr-2 text-rose-400"></i> Cross-Site Scripting (XSS)
                                        </h3>
                                    </div>
                                    <div class="p-6">
                                        <p class="text-sm text-slate-600 mb-4">Navigate to DVWA <strong>XSS (Reflected)</strong> module.</p>
                                        
                                        <div class="mb-4">
                                            <label class="text-xs font-bold text-slate-500 uppercase">Payload (Alert Box)</label>
                                            <div class="flex mt-1">
                                                <code class="flex-grow bg-slate-100 p-2 text-sm font-mono border border-slate-300 rounded-l">&lt;script&gt;alert('XSS-TEST')&lt;/script&gt;</code>
                                                <button onclick="copyToClipboard('<script>alert(\'XSS-TEST\')</script>')" class="bg-slate-200 hover:bg-slate-300 px-3 rounded-r transition-colors text-slate-600"><i class="fa-regular fa-copy"></i></button>
                                            </div>
                                        </div>

                                        <div class="p-3 bg-green-50 text-green-800 text-sm rounded border border-green-200 mb-3">
                                            <strong>Confirm:</strong> If a browser alert box appears.
                                        </div>
                                        <p class="text-xs text-yellow-700 font-bold"><i class="fa-solid fa-camera mr-1"></i> Figure 6: Browser Alert Dialog</p>
                                    </div>
                                </div>

                            </div>
                        </div>

                        <!-- TAB 4: RESULTS -->
                        <div id="tab-content-results" class="hidden animate-fade-in">
                            <h3 class="text-xl font-bold text-slate-800 mb-4">Review & Export</h3>
                            
                            <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
                                <div>
                                    <h4 class="font-bold text-slate-700 mb-2">1. Analyze Findings</h4>
                                    <ul class="list-disc list-inside text-sm text-slate-600 space-y-2 mb-4">
                                        <li>Return to ZAP <strong>Alerts</strong> tab.</li>
                                        <li>Read at least <strong>3 alerts</strong> in detail.</li>
                                        <li>Note the Description, Evidence, and Remediation.</li>
                                        <li>Look for NVD or CVE references.</li>
                                    </ul>
                                </div>
                                <div>
                                    <h4 class="font-bold text-slate-700 mb-2">2. Generate HTML Report</h4>
                                    <div class="bg-slate-100 p-4 rounded border border-slate-300">
                                        <p class="text-sm font-mono text-slate-700">Menu: Report â†’ Generate Report â†’ HTML format</p>
                                        <p class="text-sm font-mono text-slate-700 mt-2">Title: "Lab 10 â€” DVWA Vulnerability Assessment"</p>
                                    </div>
                                    <p class="text-xs text-slate-500 mt-2">Save and open in your browser to verify content.</p>
                                </div>
                            </div>
                        </div>

                    </div>
                </div>
            </section>

            <!-- SECTION 3: ANALYSIS & REPORTING -->
            <section id="analysis" class="mb-12">
                <div class="flex flex-col md:flex-row gap-8">
                    <!-- Report Structure Guide -->
                    <div class="md:w-1/2">
                        <h2 class="text-2xl font-bold text-slate-800 mb-4">Report Analysis & Writing</h2>
                        <p class="text-slate-600 mb-4 text-sm">
                            Your final deliverable is a Max 3-page A4 report. It requires a specific structure and analysis, not just a data dump.
                        </p>
                        
                        <div class="space-y-4">
                            <div class="group border-l-4 border-emerald-500 bg-white p-4 shadow-sm hover:bg-slate-50 transition-colors cursor-default">
                                <h4 class="font-bold text-slate-800">1. Findings Summary Table</h4>
                                <p class="text-xs text-slate-500 mt-1">Build a classification table: Risk Level / Vuln Type / Parameter / CWE.</p>
                                <p class="text-xs text-emerald-600 mt-1 font-semibold">Tip: Sort by Severity (High â†’ Low)</p>
                            </div>

                            <div class="group border-l-4 border-emerald-500 bg-white p-4 shadow-sm hover:bg-slate-50 transition-colors cursor-default">
                                <h4 class="font-bold text-slate-800">2. Detailed Findings (x2)</h4>
                                <p class="text-xs text-slate-500 mt-1">Select your top 2 findings. Explain what it is, your confirmation proof, real-world impact, and the fix.</p>
                            </div>

                            <div class="group border-l-4 border-emerald-500 bg-white p-4 shadow-sm hover:bg-slate-50 transition-colors cursor-default">
                                <h4 class="font-bold text-slate-800">3. Remediation</h4>
                                <p class="text-xs text-slate-500 mt-1">Do not just say "fix it". Use technical terms like "Prepared Statements".</p>
                            </div>
                        </div>
                    </div>

                    <!-- Remediation Flashcards / Visualization -->
                    <div class="md:w-1/2">
                        <h2 class="text-2xl font-bold text-slate-800 mb-4">Remediation Reference</h2>
                        <p class="text-sm text-slate-500 mb-4">Common fix patterns for your report.</p>

                        <div class="grid grid-cols-1 gap-4">
                            <!-- SQLi Remediation Card -->
                            <div class="bg-white border border-slate-200 rounded-lg p-5 shadow-sm">
                                <h4 class="font-bold text-emerald-700 mb-2">Fixing SQL Injection</h4>
                                <div class="flex items-start">
                                    <div class="text-3xl text-emerald-200 mr-4"><i class="fa-solid fa-shield-virus"></i></div>
                                    <div>
                                        <p class="text-sm font-semibold text-slate-800">Use Prepared Statements</p>
                                        <p class="text-xs text-slate-600 mt-1">Also known as Parameterized Queries. Never concatenate user input directly into SQL strings. The database treats parameters as data, not executable code.</p>
                                    </div>
                                </div>
                            </div>

                            <!-- XSS Remediation Card -->
                            <div class="bg-white border border-slate-200 rounded-lg p-5 shadow-sm">
                                <h4 class="font-bold text-purple-700 mb-2">Fixing XSS</h4>
                                <div class="flex items-start">
                                    <div class="text-3xl text-purple-200 mr-4"><i class="fa-solid fa-code-branch"></i></div>
                                    <div>
                                        <p class="text-sm font-semibold text-slate-800">Context-Aware Encoding</p>
                                        <p class="text-xs text-slate-600 mt-1">Encode all user output before rendering in the browser. Convert special characters (like <code>&lt;</code> and <code>&gt;</code>) into HTML entities. Refer to the OWASP Cheat Sheet.</p>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Findings Chart Example -->
                        <div class="mt-6 bg-white border border-slate-200 rounded-lg p-4 shadow-sm">
                             <h4 class="text-sm font-bold text-slate-700 mb-2">Example: Findings Distribution</h4>
                             <div class="chart-container" style="height: 200px;">
                                <canvas id="findingsChart"></canvas>
                             </div>
                             <p class="text-[10px] text-slate-400 text-center mt-1">Hypothetical distribution for report context</p>
                        </div>
                    </div>
                </div>
            </section>

            <!-- SECTION 4: ALTERNATIVE TOOLS -->
            <section id="tools" class="mb-12">
                <h2 class="text-2xl font-bold text-slate-800 mb-6 flex items-center">
                    <i class="fa-solid fa-toolbox mr-3 text-slate-400"></i> Alternative Open-Source Tools
                </h2>
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4">
                    
                    <a href="https://cirt.net/Nikto2" target="_blank" class="block bg-white p-6 rounded-lg border border-slate-200 card-hover transition-all">
                        <div class="text-emerald-500 text-3xl mb-3"><i class="fa-solid fa-terminal"></i></div>
                        <h3 class="font-bold text-slate-800">Nikto</h3>
                        <p class="text-xs text-slate-500 mt-2">Fast CLI web server scanner. Good for checking server configs.</p>
                    </a>

                    <a href="https://wapiti-scanner.github.io" target="_blank" class="block bg-white p-6 rounded-lg border border-slate-200 card-hover transition-all">
                        <div class="text-blue-500 text-3xl mb-3"><i class="fa-solid fa-spider"></i></div>
                        <h3 class="font-bold text-slate-800">Wapiti</h3>
                        <p class="text-xs text-slate-500 mt-2">Black-box vulnerability scanner. Fuzzes input fields.</p>
                    </a>

                    <a href="http://w3af.org" target="_blank" class="block bg-white p-6 rounded-lg border border-slate-200 card-hover transition-all">
                        <div class="text-rose-500 text-3xl mb-3"><i class="fa-brands fa-python"></i></div>
                        <h3 class="font-bold text-slate-800">w3af</h3>
                        <p class="text-xs text-slate-500 mt-2">Modular Python-based audit framework. Highly extensible.</p>
                    </a>

                    <a href="https://code.google.com/archive/p/skipfish/" target="_blank" class="block bg-white p-6 rounded-lg border border-slate-200 card-hover transition-all">
                        <div class="text-amber-500 text-3xl mb-3"><i class="fa-solid fa-bolt"></i></div>
                        <h3 class="font-bold text-slate-800">Skipfish</h3>
                        <p class="text-xs text-slate-500 mt-2">High-speed reconnaissance. Creates an interactive sitemap.</p>
                    </a>

                </div>
                <div class="mt-6 bg-slate-100 p-4 rounded-lg border border-slate-200">
                    <p class="text-sm text-slate-700"><strong>ðŸ’¡ Bonus Challenge:</strong> Run one of these tools against DVWA, compare 2 findings with ZAP, and add a paragraph to your report.</p>
                </div>
            </section>

        </div>
    </main>

    <!-- Footer -->
    <footer class="bg-slate-800 text-slate-300 py-8">
        <div class="max-w-7xl mx-auto px-4 text-center">
            <p class="text-sm mb-2">Lab 10 Quick Reference Guide</p>
            <p class="text-xs text-slate-500">OWASP ZAP Vulnerability Assessment</p>
            <div class="mt-4 flex justify-center space-x-4 text-xs">
                <a href="https://owasp.org/www-project-top-ten/" target="_blank" class="hover:text-emerald-400">OWASP Top 10</a>
                <span>|</span>
                <a href="https://csrc.nist.gov/publications/detail/sp/800-115/final" target="_blank" class="hover:text-emerald-400">NIST SP 800-115</a>
            </div>
        </div>
    </footer>

    <!-- JavaScript Logic -->
    <script>
        // --- DATA & STATE MANAGEMENT ---
        
        // Checklist Data
        const checklistItems = [
            { id: 1, text: "Start Kali & Target VMs", done: false },
            { id: 2, text: "Login to DVWA (admin/password)", done: false },
            { id: 3, text: "Set DVWA Security to LOW", done: false },
            { id: 4, text: "Configure ZAP Proxy (127.0.0.1:8080)", done: false },
            { id: 5, text: "Passive Scan (Browse 4 pages)", done: false },
            { id: 6, text: "Spider Attack DVWA", done: false },
            { id: 7, text: "Active Scan DVWA", done: false },
            { id: 8, text: "Manual SQLi Test", done: false },
            { id: 9, text: "Manual XSS Test", done: false },
            { id: 10, text: "Export HTML Report", done: false }
        ];

        // --- DOM ELEMENTS ---
        const checklistContainer = document.getElementById('checklist-container');
        const progressBar = document.getElementById('progress-bar');
        const progressText = document.getElementById('progress-text');

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            renderChecklist();
            initCharts();
        });

        // --- CHECKLIST LOGIC ---
        function renderChecklist() {
            checklistContainer.innerHTML = '';
            let completedCount = 0;

            checklistItems.forEach(item => {
                if (item.done) completedCount++;

                const div = document.createElement('div');
                div.className = "flex items-center space-x-3 p-2 rounded hover:bg-slate-50 transition-colors cursor-pointer";
                div.onclick = () => toggleCheck(item.id);

                const iconClass = item.done 
                    ? "fa-solid fa-square-check text-emerald-500 text-lg" 
                    : "fa-regular fa-square text-slate-300 text-lg";
                
                const textClass = item.done 
                    ? "text-sm text-slate-400 line-through" 
                    : "text-sm text-slate-700";

                div.innerHTML = `
                    <i class="${iconClass}"></i>
                    <span class="${textClass}">${item.text}</span>
                `;
                checklistContainer.appendChild(div);
            });

            const percent = Math.round((completedCount / checklistItems.length) * 100);
            progressBar.style.width = `${percent}%`;
            progressText.innerText = `${percent}% Complete`;
        }

        function toggleCheck(id) {
            const item = checklistItems.find(i => i.id === id);
            if (item) {
                item.done = !item.done;
                renderChecklist();
            }
        }

        // --- TAB NAVIGATION LOGIC ---
        function switchTab(tabId) {
            // Hide all contents
            ['prep', 'auto', 'manual', 'results'].forEach(id => {
                document.getElementById(`tab-content-${id}`).classList.add('hidden');
                document.getElementById(`tab-content-${id}`).classList.remove('block');
                
                const btn = document.getElementById(`tab-btn-${id}`);
                btn.classList.remove('tab-active');
                btn.classList.add('tab-inactive');
            });

            // Show selected content
            document.getElementById(`tab-content-${tabId}`).classList.remove('hidden');
            document.getElementById(`tab-content-${tabId}`).classList.add('block');
            
            // Highlight button
            const activeBtn = document.getElementById(`tab-btn-${tabId}`);
            activeBtn.classList.remove('tab-inactive');
            activeBtn.classList.add('tab-active');
        }

        // --- SCROLL NAVIGATION ---
        function scrollToSection(id) {
            document.getElementById(id).scrollIntoView({ behavior: 'smooth' });
        }

        // --- CLIPBOARD UTILITY ---
        function copyToClipboard(text) {
            // Create a temporary textarea to handle the copy
            const textarea = document.createElement('textarea');
            textarea.value = text;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            
            // Simple feedback (could be improved with a toast)
            alert('Payload copied: ' + text);
        }

        // --- CHARTS (CHART.JS) ---
        function initCharts() {
            // Chart 1: Assessment Criteria Weights
            const ctxCriteria = document.getElementById('criteriaChart').getContext('2d');
            new Chart(ctxCriteria, {
                type: 'doughnut',
                data: {
                    labels: ['ZAP Usage (25%)', 'Manual Verification (30%)', 'Report Quality (25%)', 'Remediation (20%)'],
                    datasets: [{
                        data: [25, 30, 25, 20],
                        backgroundColor: [
                            '#3b82f6', // Blue-500
                            '#10b981', // Emerald-500
                            '#f59e0b', // Amber-500
                            '#6366f1'  // Indigo-500
                        ],
                        borderWidth: 0
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: {
                            position: 'bottom',
                            labels: {
                                font: { size: 10 },
                                usePointStyle: true,
                                boxWidth: 8
                            }
                        },
                        tooltip: {
                            callbacks: {
                                label: function(context) {
                                    return ` ${context.label}`;
                                }
                            }
                        }
                    }
                }
            });

            // Chart 2: Example Findings Distribution (Bar)
            const ctxFindings = document.getElementById('findingsChart').getContext('2d');
            new Chart(ctxFindings, {
                type: 'bar',
                data: {
                    labels: ['High', 'Medium', 'Low', 'Info'],
                    datasets: [{
                        label: 'Hypothetical Findings Count',
                        data: [2, 5, 8, 12], // Example data
                        backgroundColor: [
                            '#ef4444', // Red (High)
                            '#f97316', // Orange (Medium)
                            '#eab308', // Yellow (Low)
                            '#3b82f6'  // Blue (Info)
                        ],
                        borderRadius: 4
                    }]
                },
                options: {
                    responsive: true,
                    maintainAspectRatio: false,
                    plugins: {
                        legend: { display: false }
                    },
                    scales: {
                        y: {
                            beginAtZero: true,
                            grid: { display: false }
                        },
                        x: {
                            grid: { display: false }
                        }
                    }
                }
            });
        }
    </script>
</body>
</html>



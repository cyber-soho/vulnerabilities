<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VM Policy & Compliance Study Suite</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap');
        body { font-family: 'Inter', sans-serif; }
        
        /* Flashcard Flip Logic */
        .perspective { perspective: 1000px; }
        .card-inner {
            transition: transform 0.6s cubic-bezier(0.4, 0, 0.2, 1);
            transform-style: preserve-3d;
        }
        .card-inner.is-flipped { transform: rotateY(180deg); }
        .card-face {
            backface-visibility: hidden;
            -webkit-backface-visibility: hidden;
            position: absolute;
            width: 100%; height: 100%;
            display: flex; align-items: center; justify-content: center;
            padding: 2.5rem; text-align: center; border-radius: 1.5rem;
        }
        .card-back { transform: rotateY(180deg); }

        /* Custom Scrollbar */
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f5f9; }
        ::-webkit-scrollbar-thumb { background: #cbd5e1; border-radius: 10px; }
    </style>
</head>
<body class="bg-slate-50 min-h-screen">

    <!-- Header / Navigation -->
    <nav class="bg-white border-b border-slate-200 sticky top-0 z-50">
        <div class="max-w-5xl mx-auto px-6 py-4 flex flex-col md:flex-row justify-between items-center gap-4">
            <div class="flex items-center gap-2">
                <span class="text-2xl">üõ°Ô∏è</span>
                <h1 class="font-bold text-xl text-slate-900 tracking-tight">Cyber.SoHo <span class="font-normal text-slate-400">| Study Suite</span></h1>
            </div>
            <div class="flex bg-slate-100 p-1 rounded-xl w-full md:w-auto">
                <button onclick="switchMode('flashcards')" id="tab-flashcards" class="flex-1 px-6 py-2 rounded-lg text-sm font-semibold transition-all bg-white shadow-sm text-indigo-600">Flashcards</button>
                <button onclick="switchMode('quiz')" id="tab-quiz" class="flex-1 px-6 py-2 rounded-lg text-sm font-semibold transition-all text-slate-500 hover:text-slate-700">Policy Quiz</button>
            </div>
        </div>
    </nav>

    <main class="max-w-4xl mx-auto px-6 py-10">
        
        <!-- FLASHCARDS SECTION -->
        <section id="section-flashcards" class="block">
            <div class="mb-8 text-center">
                <h2 class="text-2xl font-bold text-slate-800">Knowledge Reinforcement</h2>
                <p class="text-slate-500 mt-1">Master key definitions and regulatory mandates.</p>
            </div>

            <!-- Progress -->
            <div class="max-w-md mx-auto mb-8">
                <div class="flex justify-between text-xs font-bold text-slate-400 uppercase mb-2">
                    <span>Progress</span>
                    <span id="fc-progress-text">1 / 25</span>
                </div>
                <div class="w-full bg-slate-200 rounded-full h-1.5">
                    <div id="fc-progress-bar" class="bg-indigo-500 h-1.5 rounded-full transition-all duration-500" style="width: 4%"></div>
                </div>
            </div>

            <!-- Card -->
            <div class="perspective w-full max-w-2xl mx-auto aspect-[16/10] relative mb-10 group">
                <div id="card-inner" class="card-inner w-full h-full relative cursor-pointer" onclick="this.classList.toggle('is-flipped')">
                    <!-- Front -->
                    <div class="card-face card-front bg-white border border-slate-200 shadow-xl shadow-slate-200/50">
                        <div class="absolute top-6 left-6 text-xs font-black text-indigo-200 uppercase tracking-widest">Question</div>
                        <p id="fc-front" class="text-2xl md:text-3xl font-bold text-slate-800 leading-tight"></p>
                        <div class="absolute bottom-6 text-slate-300 text-xs font-medium">Click to reveal answer</div>
                    </div>
                    <!-- Back -->
                    <div class="card-face card-back bg-indigo-600 text-white shadow-xl">
                        <div class="absolute top-6 left-6 text-xs font-black text-indigo-300 uppercase tracking-widest">Answer</div>
                        <p id="fc-back" class="text-xl md:text-2xl leading-relaxed font-medium"></p>
                    </div>
                </div>
            </div>

            <!-- Controls -->
            <div class="flex justify-center items-center gap-8">
                <button onclick="prevFC()" class="p-4 rounded-full bg-white border border-slate-200 text-slate-600 hover:bg-slate-50 transition-colors disabled:opacity-30" id="fc-prev">
                    <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6" fill="none" viewBox="0 0 24 24" stroke="currentColor"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" /></svg>
                </button>
                <button onclick="nextFC()" class="px-10 py-4 rounded-2xl bg-indigo-600 text-white font-bold shadow-lg shadow-indigo-200 hover:bg-indigo-700 transition-all transform active:scale-95" id="fc-next">
                    Next Card
                </button>
            </div>
        </section>


        <!-- QUIZ SECTION -->
        <section id="section-quiz" class="hidden">
            <div class="mb-8 text-center">
                <h2 class="text-2xl font-bold text-slate-800">Remediation Proficiency Quiz</h2>
                <p class="text-slate-500 mt-1">Test your ability to apply policy to real-world scenarios.</p>
            </div>

            <div id="quiz-container" class="bg-white rounded-3xl border border-slate-200 shadow-xl overflow-hidden">
                <!-- Quiz Header (Score/Progress) -->
                <div class="bg-slate-50 px-8 py-4 border-b border-slate-200 flex justify-between items-center">
                    <span id="quiz-progress" class="text-sm font-bold text-slate-400">QUESTION 1/10</span>
                    <div class="flex items-center gap-2">
                        <span class="text-xs font-bold text-slate-400">SCORE:</span>
                        <span id="quiz-score" class="px-2 py-1 rounded bg-indigo-100 text-indigo-700 font-bold text-sm">0</span>
                    </div>
                </div>

                <!-- Question Area -->
                <div class="p-8 md:p-12">
                    <p id="quiz-question" class="text-xl md:text-2xl font-bold text-slate-800 mb-8 leading-snug"></p>
                    
                    <div id="quiz-options" class="grid gap-4">
                        <!-- Options injected here -->
                    </div>

                    <!-- Feedback Area -->
                    <div id="quiz-feedback" class="mt-8 p-6 rounded-2xl hidden animate-in fade-in slide-in-from-bottom-4 duration-300">
                        <div class="flex items-start gap-4">
                            <span id="feedback-icon" class="text-2xl"></span>
                            <div>
                                <h4 id="feedback-title" class="font-bold text-lg mb-1"></h4>
                                <p id="feedback-text" class="text-sm leading-relaxed"></p>
                            </div>
                        </div>
                        <button onclick="nextQuestion()" class="mt-6 w-full py-3 bg-slate-900 text-white rounded-xl font-bold hover:bg-slate-800 transition-colors">Continue</button>
                    </div>
                </div>
            </div>

            <!-- Result Screen -->
            <div id="quiz-result" class="hidden bg-white rounded-3xl p-12 text-center border border-slate-200 shadow-xl">
                <span class="text-6xl mb-6 block">üèÜ</span>
                <h2 class="text-3xl font-bold text-slate-900 mb-2">Assessment Complete</h2>
                <p class="text-slate-500 mb-8">You have successfully completed the Vulnerability Management Policy training.</p>
                <div class="text-5xl font-black text-indigo-600 mb-10" id="final-score">0/10</div>
                <button onclick="restartQuiz()" class="px-8 py-4 bg-indigo-600 text-white rounded-2xl font-bold hover:bg-indigo-700 transition-all">Retake Assessment</button>
            </div>
        </section>

    </main>

    <script>
        // --- DATA ---
        const flashcards = [
            { front: "Primary purpose of a VM Policy", back: "To transform vulnerability management from ad-hoc guesswork into a structured, repeatable, measurable process." },
            { front: "5 Core Questions a VM Policy Answers", back: "What do we protect? How bad is it? How fast must we fix it? Who owns the fix? What if we cannot patch in time?" },
            { front: "VM Policy Scope Rule of Thumb", back: "If it has an IP address, it belongs in your inventory." },
            { front: "Role responsible for running scans and triaging findings", back: "SOC (Security Operations Center)" },
            { front: "Role responsible for applying patches and rebooting systems", back: "IT Operations" },
            { front: "CVSS Score Range for Critical Severity", back: "9.0 ‚Äì 10.0" },
            { front: "Standard Remediation SLA for Critical Vulnerabilities", back: "24 ‚Äì 48 hours" },
            { front: "Standard Remediation SLA for High Vulnerabilities (CVSS 7.0‚Äì8.9)", back: "7 days" },
            { front: "Formula for SLA Compliance", back: "Compliance Status = Days Since Discovery ‚â§ SLA Allowed Days" },
            { front: "5 Steps of the Exception Workflow", back: "Request, Compensating Controls, Approval, Expiration Date, Re-Assessment" },
            { front: "Definition of MTTR (Metric)", back: "Mean Time To Remediate: The average days from discovery to fix (lower is better)." },
            { front: "Definition of CMDB", back: "Configuration Management Database: A catalogue of every asset, its owner, criticality, and data handled." },
            { front: "Data protected by PCI-DSS", back: "Credit card data (Cardholder Data)" },
            { front: "Data protected by HIPAA", back: "PHI (Protected Health Information) and ePHI (Electronic Protected Health Information)" },
            { front: "Data protected by GDPR", back: "All personal data of individuals within the EU/EEA" },
            { front: "PCI-DSS Requirement 6.3.3 Mandate", back: "Install critical security patches within one month of release." },
            { front: "PCI-DSS Requirement 11.3 Scanning Cadence", back: "Internal and external vulnerability scans at least quarterly." },
            { front: "PCI-DSS Compliance Cycle", back: "Scan ‚Üí Fix ‚Üí Rescan (Verify) ‚Üí Prove" },
            { front: "HIPAA Risk Calculation Formula", back: "Risk = Likelihood of Exploitation √ó Impact on ePHI" },
            { front: "Concept of 'ePHI Elevation' in HIPAA", back: "A vulnerability on a system containing ePHI is treated as higher risk than the same vulnerability on a regular system." },
            { front: "HIPAA Documentation Retention Period", back: "Minimum of 6 years" },
            { front: "GDPR Article 33 Breach Notification Deadline", back: "Within 72 hours of becoming aware of the breach." },
            { front: "Maximum GDPR Fine (Upper Tier)", back: "‚Ç¨20 million or 4% of annual global turnover (whichever is greater)." },
            { front: "Regulatory Golden Rule for VM Policies", back: "Design your VM policy to satisfy the strictest regulation that applies to you." },
            { front: "4 Common Vulnerability Scanning Tools", back: "Nessus (Tenable), Qualys VMDR, Rapid7 InsightVM, OpenVAS" }
        ];

        const quizData = [
            {
                q: "A vulnerability scan identifies a critical flaw (CVSS 9.8) in a production server. Which team is responsible for applying the patch?",
                options: [
                    { t: "SOC (Security Operations Center)", r: "SOC is responsible for running scans and triage, not applying fixes.", c: false },
                    { t: "IT Operations", r: "Correct. IT Operations owns the infrastructure and applies the technical fixes.", c: true },
                    { t: "Compliance Team", r: "They map findings to regulations but don't perform technical remediation.", c: false },
                    { t: "Management / CISO", r: "They approve risks but don't do hands-on patching.", c: false }
                ]
            },
            {
                q: "What is the standard required remediation timeframe for a 'Critical' severity vulnerability (CVSS 9.0 ‚Äì 10.0)?",
                options: [
                    { t: "Within 24 ‚Äì 48 hours", r: "Correct. Criticals represent immediate threat.", c: true },
                    { t: "Within 7 days", r: "This is for High severity (7.0-8.9).", c: false },
                    { t: "Within 30 days", r: "This is for Medium severity.", c: false },
                    { t: "Within 90 days", r: "This is for Low severity.", c: false }
                ]
            },
            {
                q: "What is the immediate next step in the exception workflow if a patch cannot be applied?",
                options: [
                    { t: "Mark it as a False Positive", r: "Hiding risk is not a valid exception process.", c: false },
                    { t: "Document compensating controls & submit request", r: "Correct. You must justify and secure the risk alternatively.", c: true },
                    { t: "Apply it anyway", r: "Breaking business critical apps is unacceptable.", c: false },
                    { t: "Ignore it", r: "Incorrect.", c: false }
                ]
            },
            {
                q: "Under PCI-DSS 11.3, what is the minimum required frequency for conducting scans?",
                options: [
                    { t: "Annually", r: "Insufficient.", c: false },
                    { t: "Monthly", r: "Best practice, but not the regulatory minimum.", c: false },
                    { t: "Quarterly", r: "Correct. Scans must be internal/external at least quarterly.", c: true },
                    { t: "Weekly", r: "Exceeds specific minimum.", c: false }
                ]
            },
            {
                q: "Which metric best indicates remediation team efficiency?",
                options: [
                    { t: "Scan Coverage %", r: "Shows scope, not speed.", c: false },
                    { t: "MTTR (Mean Time To Remediate)", r: "Correct. Measures average days from discovery to fix.", c: true },
                    { t: "Asset Count", r: "Volume metric.", c: false },
                    { t: "CVSS Distribution", r: "Environment risk state metric.", c: false }
                ]
            },
            {
                q: "How does the 'ePHI Elevation Principle' in HIPAA affect prioritization?",
                options: [
                    { t: "Treats Medium vulns on ePHI systems as High risk", r: "Correct. Sensitive health data increases impact level.", c: true },
                    { t: "Lowers severity for medical devices", r: "False.", c: false },
                    { t: "Requires air-gapping", r: "Optional control, not a prioritization principle.", c: false },
                    { t: "Ignores CVSS scores", r: "False.", c: false }
                ]
            },
            {
                q: "GDPR Article 33: Maximum timeframe to notify the supervisory authority of a breach?",
                options: [
                    { t: "24 Hours", r: "Faster than required.", c: false },
                    { t: "72 Hours", r: "Correct. Notification must occur within 72 hours of awareness.", c: true },
                    { t: "7 Business Days", r: "Too long.", c: false },
                    { t: "No limit", r: "Incorrect.", c: false }
                ]
            },
            {
                q: "Golden Rule for VM policy when subject to multiple regulations?",
                options: [
                    { t: "Separate policies for each department", r: "Inefficient and creates gaps.", c: false },
                    { t: "Satisfy the strictest regulation", r: "Correct. Strictest compliance covers all others.", c: true },
                    { t: "Follow highest fines only", r: "Ignoring PCI could kill card processing rights.", c: false },
                    { t: "Average the standards", r: "Leaves you non-compliant with strict rules.", c: false }
                ]
            },
            {
                q: "Maximum fine for upper-tier GDPR violations?",
                options: [
                    { t: "‚Ç¨20M or 4% of Global Turnover", r: "Correct. Whichever is greater.", c: true },
                    { t: "$1.5M per category", r: "This is HIPAA.", c: false },
                    { t: "$100k per month", r: "This is PCI-DSS.", c: false },
                    { t: "‚Ç¨10M or 2%", r: "This is for lower tier violations.", c: false }
                ]
            },
            {
                q: "Asset Inventory 'Rule of Thumb'?",
                options: [
                    { t: "If it has an IP, it belongs in inventory", r: "Correct. Comprehensive visibility is key.", c: true },
                    { t: "Only physical servers", r: "Leaves cloud/IoT gaps.", c: false },
                    { t: "Only PCI assets", r: "Leaves business risk gaps.", c: false },
                    { t: "Windows/Linux only", r: "Leaves network gear gaps.", c: false }
                ]
            }
        ];

        // --- APP STATE ---
        let currentFCIndex = 0;
        let currentQuizIndex = 0;
        let score = 0;
        let quizAnswered = false;

        // --- NAVIGATION ---
        function switchMode(mode) {
            const fcSection = document.getElementById('section-flashcards');
            const qzSection = document.getElementById('section-quiz');
            const fcTab = document.getElementById('tab-flashcards');
            const qzTab = document.getElementById('tab-quiz');

            if (mode === 'flashcards') {
                fcSection.classList.replace('hidden', 'block');
                qzSection.classList.replace('block', 'hidden');
                fcTab.className = "flex-1 px-6 py-2 rounded-lg text-sm font-semibold transition-all bg-white shadow-sm text-indigo-600";
                qzTab.className = "flex-1 px-6 py-2 rounded-lg text-sm font-semibold transition-all text-slate-500 hover:text-slate-700";
            } else {
                fcSection.classList.replace('block', 'hidden');
                qzSection.classList.replace('hidden', 'block');
                qzTab.className = "flex-1 px-6 py-2 rounded-lg text-sm font-semibold transition-all bg-white shadow-sm text-indigo-600";
                fcTab.className = "flex-1 px-6 py-2 rounded-lg text-sm font-semibold transition-all text-slate-500 hover:text-slate-700";
                renderQuiz();
            }
        }

        // --- FLASHCARD LOGIC ---
        function updateFC() {
            const card = document.getElementById('card-inner');
            card.classList.remove('is-flipped');
            
            setTimeout(() => {
                document.getElementById('fc-front').innerText = flashcards[currentFCIndex].front;
                document.getElementById('fc-back').innerText = flashcards[currentFCIndex].back;
                document.getElementById('fc-progress-text').innerText = `${currentFCIndex + 1} / ${flashcards.length}`;
                document.getElementById('fc-progress-bar').style.width = `${((currentFCIndex + 1) / flashcards.length) * 100}%`;
                document.getElementById('fc-prev').disabled = currentFCIndex === 0;
            }, 150);
        }

        function nextFC() {
            if (currentFCIndex < flashcards.length - 1) {
                currentFCIndex++;
                updateFC();
            }
        }

        function prevFC() {
            if (currentFCIndex > 0) {
                currentFCIndex--;
                updateFC();
            }
        }

        // --- QUIZ LOGIC ---
        function renderQuiz() {
            const q = quizData[currentQuizIndex];
            document.getElementById('quiz-progress').innerText = `QUESTION ${currentQuizIndex + 1}/${quizData.length}`;
            document.getElementById('quiz-question').innerText = q.q;
            document.getElementById('quiz-feedback').classList.add('hidden');
            
            const optionsContainer = document.getElementById('quiz-options');
            optionsContainer.innerHTML = '';
            
            q.options.forEach((opt, idx) => {
                const btn = document.createElement('button');
                btn.className = "w-full text-left p-5 rounded-2xl border-2 border-slate-100 hover:border-indigo-200 hover:bg-slate-50 transition-all font-medium flex justify-between items-center group";
                btn.innerHTML = `<span>${opt.t}</span> <span class="opacity-0 group-hover:opacity-100 transition-opacity text-indigo-400">‚Üí</span>`;
                btn.onclick = () => selectOption(idx);
                optionsContainer.appendChild(btn);
            });
            quizAnswered = false;
        }

        function selectOption(idx) {
            if (quizAnswered) return;
            quizAnswered = true;
            
            const q = quizData[currentQuizIndex];
            const opt = q.options[idx];
            const feedbackArea = document.getElementById('quiz-feedback');
            
            // Disable other buttons
            const buttons = document.getElementById('quiz-options').querySelectorAll('button');
            buttons.forEach((b, i) => {
                b.disabled = true;
                if (q.options[i].c) b.classList.add('border-green-500', 'bg-green-50');
                if (i === idx && !opt.c) b.classList.add('border-red-500', 'bg-red-50');
            });

            if (opt.c) {
                score++;
                document.getElementById('quiz-score').innerText = score;
                feedbackArea.className = "mt-8 p-6 rounded-2xl bg-green-50 border border-green-100 block";
                document.getElementById('feedback-icon').innerText = "‚úÖ";
                document.getElementById('feedback-title').innerText = "Correct Analysis";
                document.getElementById('feedback-title').className = "font-bold text-lg mb-1 text-green-800";
            } else {
                feedbackArea.className = "mt-8 p-6 rounded-2xl bg-red-50 border border-red-100 block";
                document.getElementById('feedback-icon').innerText = "‚ùå";
                document.getElementById('feedback-title').innerText = "Incorrect Analysis";
                document.getElementById('feedback-title').className = "font-bold text-lg mb-1 text-red-800";
            }
            
            document.getElementById('feedback-text').innerText = opt.r;
        }

        function nextQuestion() {
            if (currentQuizIndex < quizData.length - 1) {
                currentQuizIndex++;
                renderQuiz();
            } else {
                showResults();
            }
        }

        function showResults() {
            document.getElementById('quiz-container').classList.add('hidden');
            document.getElementById('quiz-result').classList.remove('hidden');
            document.getElementById('final-score').innerText = `${score} / ${quizData.length}`;
        }

        function restartQuiz() {
            score = 0;
            currentQuizIndex = 0;
            document.getElementById('quiz-score').innerText = "0";
            document.getElementById('quiz-container').classList.remove('hidden');
            document.getElementById('quiz-result').classList.add('hidden');
            renderQuiz();
        }

        // Initialize
        updateFC();
    </script>
</body>
</html>




